(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{1500:function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,".head[data-v-f9aa78f2]{padding:%?36?% 0 %?40?% 0}.head__title[data-v-f9aa78f2]{font-size:%?72?%;color:#000;padding:%?36?% 0 %?40?% 0}.primary[data-v-f9aa78f2]{border-radius:2px;text-align:center;line-height:43px;color:#fff;font-size:18px;background-color:#b81c24}.primary[data-v-f9aa78f2]::hover{background-color:#b81c24}.action-row[data-v-f9aa78f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:%?24?%}.action-row uni-navigator[data-v-f9aa78f2]{font-size:%?28?%;padding:0 %?20?%}.action__pwd[data-v-f9aa78f2]{color:#333}.action__reg[data-v-f9aa78f2]{color:#8c8c8c}.oauth-row[data-v-f9aa78f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;left:0;width:100%}.oauth-image[data-v-f9aa78f2]{width:%?100?%;height:%?100?%;border:%?1?% solid #ddd;border-radius:%?100?%;margin:0 %?40?%;background-color:#fff}.oauth-image uni-image[data-v-f9aa78f2]{width:%?60?%;height:%?60?%;margin:%?20?%}",""])},"3c63":function(t,i,n){var e=n("1500");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=n("4f06").default;o("0718f7d8",e,!0,{sourceMap:!1,shadowMode:!1})},"835e":function(t,i,n){"use strict";var e=n("3c63"),o=n.n(e);o.a},b436:function(t,i,n){"use strict";n.r(i);var e=n("f6b0"),o=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(i,t,function(){return e[t]})}(a);i["default"]=o.a},e5ad:function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"head"},[n("v-uni-text",{staticClass:"head__title"},[t._v("登录")])],1),n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"input-row"},[n("m-input",{staticClass:"m-input",attrs:{type:"text",clearable:"",focus:"",placeholder:"请输入手机号或身份证"},model:{value:t.account,callback:function(i){t.account=i},expression:"account"}})],1),n("v-uni-view",{staticClass:"input-row"},[n("m-input",{attrs:{type:"password",displayable:"",placeholder:"请输入密码"},model:{value:t.password,callback:function(i){t.password=i},expression:"password"}})],1)],1),n("v-uni-view",{staticClass:"btn-row"},[n("v-uni-button",{staticClass:"btn",attrs:{"hover-class":"none"},on:{click:function(i){i=t.$handleEvent(i),t.bindLogin(i)}}},[t._v("登录")])],1),n("v-uni-view",{staticClass:"action-row"},[n("v-uni-navigator",{staticClass:"action__pwd",attrs:{url:"../pwd/pwd"}},[t._v("忘记密码")]),n("v-uni-navigator",{staticClass:"action__reg",attrs:{url:"../reg/reg"}},[t._v("注册账号")])],1),t.hasProvider?n("v-uni-view",{staticClass:"oauth-row",style:{top:t.positionTop+"px"}},t._l(t.providerList,function(i){return n("v-uni-view",{key:i.value,staticClass:"oauth-image"},[n("v-uni-image",{attrs:{src:i.image},on:{click:function(n){n=t.$handleEvent(n),t.oauth(i.value)}}})],1)}),1):t._e()],1)},o=[];n.d(i,"a",function(){return e}),n.d(i,"b",function(){return o})},f6b0:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=r(n("2026")),o=n("2f62"),a=r(n("e1bc"));function r(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{},e=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.forEach(function(i){c(t,i,n[i])})}return t}function c(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}var u={components:{mInput:a.default},data:function(){return{providerList:[],hasProvider:!1,account:"",password:"",positionTop:0}},computed:(0,o.mapState)(["forcedLogin"]),methods:s({},(0,o.mapMutations)(["login"]),{initProvider:function(){var t=this,i=["weixin","qq","sinaweibo"];uni.getProvider({service:"oauth",success:function(n){if(n.provider&&n.provider.length){for(var e=0;e<n.provider.length;e++)~i.indexOf(n.provider[e])&&t.providerList.push({value:n.provider[e],image:"../../static/img/"+n.provider[e]+".png"});t.hasProvider=!0}},fail:function(t){console.error("获取服务供应商失败："+JSON.stringify(t))}})},initPosition:function(){this.positionTop=uni.getSystemInfoSync().windowHeight-100},bindLogin:function(){if(this.account.length<5)uni.showToast({icon:"none",title:"账号最短为 5 个字符"});else if(this.password.length<6)uni.showToast({icon:"none",title:"密码最短为 6 个字符"});else{var t={account:this.account,password:this.password},i=e.default.getUsers().some(function(i){return t.account===i.account&&t.password===i.password});i?this.toMain(this.account):uni.showToast({icon:"none",title:"用户账号或密码不正确"})}},oauth:function(t){var i=this;uni.login({provider:t,success:function(n){uni.getUserInfo({provider:t,success:function(t){i.toMain(t.userInfo.nickName)}})},fail:function(t){console.error("授权登录失败："+JSON.stringify(t))}})},toMain:function(t){this.login(t),this.forcedLogin?uni.reLaunch({url:"../main/main"}):uni.navigateBack()}}),onReady:function(){this.initPosition(),this.initProvider()}};i.default=u},ffdc:function(t,i,n){"use strict";n.r(i);var e=n("e5ad"),o=n("b436");for(var a in o)"default"!==a&&function(t){n.d(i,t,function(){return o[t]})}(a);n("835e");var r=n("2877"),s=Object(r["a"])(o["default"],e["a"],e["b"],!1,null,"f9aa78f2",null);i["default"]=s.exports}}]);